---

title: Functions 

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/02_deepzoom.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dzi_html_template" class="doc_header"><code>dzi_html_template</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L31" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dzi_html_template</code>(<strong><code>name</code></strong>)</p>
</blockquote>

<pre><code>Create viewer html page for single deep zoom image *name*.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dzi_js_template" class="doc_header"><code>dzi_js_template</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dzi_js_template</code>(<strong><code>name</code></strong>, <strong><code>url</code></strong>, <strong><code>Format</code></strong>, <strong><code>Overlap</code></strong>, <strong><code>TileSize</code></strong>, <strong><code>Height</code></strong>, <strong><code>Width</code></strong>)</p>
</blockquote>

<pre><code>Create single deep zoom image .js file.

Created from deep zoom image data.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="viewer_div_template" class="doc_header"><code>viewer_div_template</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>viewer_div_template</code>(<strong><code>div_id</code></strong>, <strong><code>multi_tileSources</code></strong>, <strong><code>sequenceMode</code></strong>=<em><code>'true'</code></em>, <strong><code>preserveViewport</code></strong>=<em><code>'true'</code></em>, <strong><code>showReferenceStrip</code></strong>=<em><code>'true'</code></em>, <strong><code>showNavigator</code></strong>=<em><code>'true'</code></em>)</p>
</blockquote>

<pre><code>Create stand alone div code snippet with expanded tileSources array.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="callback_js_template" class="doc_header"><code>callback_js_template</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L120" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>callback_js_template</code>(<strong><code>viewer_name</code></strong>, <strong><code>multi_tileSources</code></strong>, <strong><code>sequenceMode</code></strong>=<em><code>'true'</code></em>, <strong><code>preserveViewport</code></strong>=<em><code>'true'</code></em>, <strong><code>showReferenceStrip</code></strong>=<em><code>'true'</code></em>, <strong><code>showNavigator</code></strong>=<em><code>'true'</code></em>)</p>
</blockquote>

<pre><code>Multi image .js template.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="callback_div_template" class="doc_header"><code>callback_div_template</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L140" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>callback_div_template</code>(<strong><code>base_url</code></strong>, <strong><code>bucket_name</code></strong>, <strong><code>viewer_name</code></strong>)</p>
</blockquote>

<pre><code>Creates JSONP callback code snippet to load multi image viewer .js file</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="upload" class="doc_header"><code>upload</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L163" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>upload</code>(<strong><code>b2_api</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>Upload newly created files in local directory './deepzoom/' to b2 bucket.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_html" class="doc_header"><code>make_html</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L196" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_html</code>(<strong><code>name</code></strong>)</p>
</blockquote>

<pre><code>Create standalone html viewer page for single image.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="connect_b2_bucket" class="doc_header"><code>connect_b2_bucket</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L216" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>connect_b2_bucket</code>(<strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>Creates upload connection to your Backblaze b2 bucket.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dzp_save" class="doc_header"><code>dzp_save</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L233" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dzp_save</code>(<strong><code>fname</code></strong>)</p>
</blockquote>

<pre><code>Create local dzp_folder and use pyvips to convert image file *fname* to deepzoom pyramid.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dzi_to_js" class="doc_header"><code>dzi_to_js</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L252" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dzi_to_js</code>(<strong><code>name</code></strong>, <strong><code>base_url</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>Parse (xml) .dzi file and convert into (jsonp) .js file.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dzp_thumbnail" class="doc_header"><code>dzp_thumbnail</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L286" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dzp_thumbnail</code>(<strong><code>fname</code></strong>, <strong><code>tn_height</code></strong>=<em><code>500</code></em>)</p>
</blockquote>

<pre><code>Creates thumbnail file in dzp_ directory</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_names" class="doc_header"><code>list_names</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L308" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_names</code>(<strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>List image names and js urls for all uploaded images</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="stack_image_json" class="doc_header"><code>stack_image_json</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L332" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>stack_image_json</code>(<strong><code>names</code></strong>, <strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>Downloads and combines json data for selected images *names*.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="viewer_div" class="doc_header"><code>viewer_div</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L365" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>viewer_div</code>(<strong><code>names</code></strong>, <strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>, <strong><code>sequenceMode</code></strong>=<em><code>'true'</code></em>, <strong><code>preserveViewport</code></strong>=<em><code>'true'</code></em>, <strong><code>showReferenceStrip</code></strong>=<em><code>'true'</code></em>, <strong><code>showNavigator</code></strong>=<em><code>'true'</code></em>, <strong><code>div_id</code></strong>=<em><code>'auto'</code></em>)</p>
</blockquote>

<pre><code>Creates stand alone viewer html div snippet for selected images *names*.

Can be pasted directly into web page.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="callback_viewer" class="doc_header"><code>callback_viewer</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L387" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>callback_viewer</code>(<strong><code>names</code></strong>, <strong><code>viewer_name</code></strong>, <strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>, <strong><code>sequenceMode</code></strong>=<em><code>'true'</code></em>, <strong><code>preserveViewport</code></strong>=<em><code>'true'</code></em>, <strong><code>showReferenceStrip</code></strong>=<em><code>'true'</code></em>, <strong><code>showNavigator</code></strong>=<em><code>'true'</code></em>, <strong><code>print_callback</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

<pre><code>Creates online callback multi image viewer .js file and prints callback code snippet.

Composes jsonp call back script that is uploaded to bucket</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DeepZoomStore" class="doc_header"><code>class</code> <code>DeepZoomStore</code><a href="https://github.com/fligt/deepzoomup/tree/master/deepzoomup/deepzoom.py#L425" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DeepZoomStore</code>(<strong><code>application_key_id</code></strong>, <strong><code>application_key</code></strong>, <strong><code>bucket_name</code></strong>)</p>
</blockquote>

<pre><code>Create DeepZoomStore object.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Usage">Usage<a class="anchor-link" href="#Usage"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Will be useful to include thumbnails in the dzp_ folders to create overviews.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dz</span><span class="o">.</span><span class="n">make_viewer</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="s1">&#39;method-test&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Saving: ./deepzoom/viewers/method-test.js
upload viewers/method-test.js                                            
Paste this callback code snippet into your html:                         

&lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.4.2/openseadragon.min.js&#34;
    integrity=&#34;sha512-qvQYH6mPuE46uFcWLI8BdGaJpB5taX4lltbSIw5GF4iODh2xIgyz5ii1WpuzPFUknHCps0mi4mFGR44bjdZlZg==&#34;
    crossorigin=&#34;anonymous&#34;&gt;
&lt;/script&gt;

&lt;div id=&#34;method-test&#34; style=&#34;width: 800px; height: 400px; background-color: snow&#34;&gt;&lt;/div&gt;

&lt;script src=&#34;https://f002.backblazeb2.com/file/dore-data/deepzoom/viewers/method-test.js?callback=OpenSeadragon&#34;&gt;&lt;/script&gt;

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

